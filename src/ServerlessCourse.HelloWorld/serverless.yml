service: nethelloworld

provider:
  name: aws
  runtime: dotnetcore3.1
  region: ${opt:region, self:custom.defaultRegion}
  stage: ${opt:stage, self:custom.defaultStage}
  iamRoleStatements:
    - Effect: Allow
      Action: ssm:GetParameter*
      Resource: !Sub arn:aws:ssm:${AWS::Region}:${AWS::AccountId}:parameter/gettogethers/dev/*

custom:
  defaultRegion: eu-west-1
  defaultStage: dev${env:SLSUSER, ""}

package:
  artifact: bin/Release/netcoreapp3.1/ServerlessCourse.HelloWorld.zip
    
functions:
  Greeter:
    handler: ServerlessCourse.HelloWorld::ServerlessCourse.HelloWorld.Greeter::Handler
    events:
      - http: 
          method: get
          path: api/greeter
